#:kivy 2.1
#:import MDScreenManager kivymd.uix.screenmanager.MDScreenManager
#:import MDFadeSlideTransition kivymd.uix.transition.transition.MDFadeSlideTransition

<CustomProgressBar@ProgressBar>:
    size_hint: 1.0, None
    height: '10sp'
    pos_hint: {'center_x': 0.5, 'center_y': 0.1}


<MainScreen>:
    id: mainscreen

    ScreenOne:
        name: 'test5'
        md_bg_color: 0.2, 0.2, 0.2, 1

        AsyncImage:
            source: 'logo.png'
            pos_hint: {'center_x': 0.5, 'center_y': 0.6}
        MDRectangleFlatButton:
            text: "LETS CODE!"
            md_bg_color: (0.6, 0.4, 0.8, 1)
            text_color: 1, 1, 1, 1
            font_size:30
            pos_hint: {'center_x': 0.5, 'center_y': 0.2}
            on_release: root.GUZIK()


    ScreenFour:
        #id: screen1
        name: 'test1'
        MDFloatLayout:
            md_bg_color: 0.2, 0.2, 0.2, 1

            id: screen
            orientation: "vertical"
            MDTopAppBar:
                pos_hint: {'x': 0, 'top': 1}
                title: ''
                #left_action_items: [['menu', lambda x: root.open_nav_drawer()]]
                elevation: 0
            MDLabel:
                id: LOGIN
                halign: "center"
                pos_hint:{'center_y': 0.76}

                font_style: "H6"
                text: "LOGIN"
            MDTextField:
                id: userinput
                hint_text: "Nickname"                                
#                mode: 'rectangle'
                icon_right: "/home/esclimited/Pictures/Icons/icons8-name-64.png"
                pos_hint:{'center_x': 0.5, 'center_y': 0.6 }
                size_hint_x : None
                width : 300
            MDTextField:
                id: password
                hint_text: "Password"
                helper_text: "Password must be at least 6 Characters"
#                mode: 'rectangle'
                password: True
                helper_text_mode: "on_focus"
                icon_right: "account-lock"
                pos_hint:{'center_x': 0.5, 'center_y': 0.45 }
                size_hint_x : None
                width : 300                
            MagicButton:
                id: MTB
                pos_hint: {"center_x": .5, "center_y": .27}
                size_hint: .4,.07
                on_release:
                    #root.transition.direction = 'left'  
                    #root.current = 'test2'
                    root.Check()
                    root.Check2()             
                MDBoxLayout:
                    orientation: 'horizontal'    
                    MDLabel:
                        #pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                        padding : 9,1
                        text: "Login"
                        halign: "left"
                        pos_hint: {'x': self.width/2}
                        # Font Style ['H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'Subtitle1', 'Subtitle2', 'Body1', 'Body2', 'Button', 'Caption', 'Overline', 'Icon']
                        font_name: 
                        font_style: 'Subtitle1'                              
                        #bold: True
                    MDIcon:
                        padding: 9, 0 
                        pos_hint: {'right' : 1, 'center_y': .5}
                        halign: "right"
                        valign: "middle"
                        icon: 'login-variant'

            
            MagicButton:
                id: Register
                pos_hint: {"center_x": .5, "center_y": .17}
                size_hint: .4,.07
                on_release:
                    #root.transition.direction = 'left'
                    #root.current = 'test2'
                    root.register()
                MDBoxLayout:
                    orientation: 'horizontal'   
                    MDLabel:
                        #pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                        padding : 9,1
                        text: "Register"
                        halign: "left"            
                        pos_hint: {'x': self.width/2}                        
                        font_name: 
                        font_style: 'Subtitle1'
                    MDIcon:
                        padding: 9, 0 
                        pos_hint: {'right' : 1, 'center_y': .5}
                        halign: "right"
                        valign: "middle"
                        icon: 'icons8-name-64.png'
        
            
    ScreenTwo:
        name: 'test2'
        MDFloatLayout:
            md_bg_color: 0.2, 0.2, 0.2, 1

         
            MDCard:
                id : MDCard1
                size_hint: 0.95, 0.08
                pos_hint: {"center_x": 0.5, "center_y": 0.95}                
                elevation: 0
                shadow_softness: 8
                shadow_offset: (-2, 2)
                radius: [5,]
                padding: "20dp"
                MDFloatLayout:
                    id : topbar
                    MDIconButton:
                        #size_hint: .03,.3
                        id: MenuButton
                        #icon: "/home/esclimited/Pictures/Icons/menu-512.png"
                        icon : 'dots-vertical'
                        pos_hint: {"center_x":1, "center_y": 0.5}
                        icon_size: "25sp"
                        keep_ratio: True
                        allow_stretch: True
                        ripple_scale: .7
                        ripple_alpha: .003
                        #ripple_rad_default:
                        on_release: root.menu.open()
            MDLabel:
                MDIconButton:
                    id: MenuButton2
                    icon: 'dots-vertical'
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    icon_size: "25sp"
                    keep_ratio: True
                    allow_stretch: True
                    ripple_scale: .7
                    ripple_alpha: .003
                    on_release: root.menu2.open()


            MDLabel:
                id: UserNick
                halign: "center"
                pos_hint:{'center_y': 0.95}


                font_style: "H6"
            MDLabel:

                id: POINTS_L
                size_hint: .9,.4
                halign: "center"
                pos_hint:{'center_x':0.1,'center_y': 0.95}

                font_style: "H6"
                text:'0'



            MDLabel:

                id: POINTS
                size_hint: .9,.4
                halign: "center"
                pos_hint:{'center_x':0.5,'center_y': 0.85}

                font_style: "H6"
                text:'CHOOSE LANGUAGE'
            MDCard:
                id: MDCard2
                size_hint: 1, 0.6
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                elevation: 0
                shadow_softness: 8
                radius: 12, 46, 12, 46
                shadow_offset: (-2, 2)
                padding: "20dp"

                MDFloatLayout:
                    MDLabel:
                        id: nazwa
                        size_hint: .9,.4
                        halign: "center"
                        pos_hint: {'x':0.01,'center_y': .93}

                        font_style: "H6"
                        text: 'Python RANKED:'
                    MDScrollView:
                        size_hint: 1, None
                        height: "250dp"
                        pos_hint: {"x": 0, "y": 0}
                        scroll_type: ["bars", "content"]
                        bar_width: "2dp"
                        scroll_wheel_distance: dp(14)
                        MDList:
                            OneLineListItem:
                                id:item0

                            OneLineListItem:
                                id:item1

                            OneLineListItem:
                                id:item2

                            OneLineListItem:
                                id:item3

                            OneLineListItem:
                                id:item4

                            OneLineListItem:
                                id:item5

                            OneLineListItem:
                                id:item6

                            OneLineListItem:
                                id:item7

                            OneLineListItem:
                                id:item8

                            OneLineListItem:
                                id:item9

            SinginButton:
                id: S2FButton
                pos_hint:{'center_x': 0.5, 'y': 0.07}
                size_hint: .4,.07
                elevation: 0
                shadow_softness: 8
                shadow_offset: (-4, 4)
                #icon: "plus"
                on_release:
                    root.PlayButtonPressed()
                    root.Check2()
                MDBoxLayout:
                    orientation: 'horizontal'    
                    MDLabel:
                        #pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                        padding : 9,1
                        text: "Play"
                        halign: "center"
                        pos_hint: {'x': self.width/2}                        
                        font_name: 
                        font_style: 'Subtitle2'
                    MDIcon:
                        padding: 9, 0 
                        pos_hint: {'right' : 1, 'center_y': .5}
                        halign: "right"
                        valign: "middle"
                        icon: 'play'
    Screen:
        name: 'test4'

        MDFloatLayout:
            md_bg_color: 0.2, 0.2, 0.2, 1

            GridLayout:
                cols: 1
                size_hint_y: None
                height: self.minimum_height

            MDLabel:
                id: tip
                text: "TIP: PLAY NICE"
                theme_text_color: "Secondary"
                halign: 'center'
                font_size: '20sp'
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

            Label:
                id: czekanie

                text: 'Waiting in queue'
                size_hint_y: None
                height: self.texture_size[1]
                font_size: '30sp'
                pos_hint: {'center_x': 0.5, 'center_y': 0.9}
            Label:
                id: time_label
                text: 'PRZEWIDYWANY CZAS: '
                size_hint_y: None
                height: self.texture_size[1]
                font_size: '20sp'
                pos_hint: {'center_x': 0.5, 'center_y': 0.8}
            Label:
                id: times_label
                text: 'CZAS W KOLEJCE: '
                size_hint_y: None
                height: self.texture_size[1]
                font_size: '20sp'
                pos_hint: {'center_x': 0.5, 'center_y': 0.75}

        MDRectangleFlatButton:
            id: kolejka
            text: "LEAVE QUEUE!"
            md_bg_color: 0.6, 0.4, 0.8, 1
            text_color: 1, 1, 1, 1
            font_size: 24
            pos_hint: {'center_x': 0.5, 'center_y': 0.1}
            on_release: root.kolejka()













    ScreenThree:
        name: 'test3'

        MDFloatLayout:
            md_bg_color: 0.2, 0.2, 0.2, 1


            id: screen3
            orientation: "vertical"


            #Label:
            #   id: pog
            #   text: 'PRZEWIDYWANY CZAS: '
                #size_hint_y: None
                #height: self.texture_size[1]
                #font_size: '50sp'
                #pos_hint: {'center_x': 0.49, 'center_y': 0.17}


            CustomProgressBar:
                id: tom
                max: 2500
                value: 2500

            MDTopAppBar:
                pos_hint: {'x': 0, 'top': 1}
                #left_action_items: [['menu', lambda x: root.open_nav_drawer()]]
                elevation: 0
            MDCard:
                id : MDCard3
                size_hint: 0.95, 0.08
                pos_hint: {"center_x": 0.5, "center_y": 0.8}
                elevation: 0
                shadow_softness: 8
                shadow_offset: (-2, 2)
                radius: [5,]
                padding: "20dp"
                MDLabel:
                    size_hint: .5,.5
                    id: Things
                    halign: "center"
                    pos_hint:{'center_x':.5,'center_y': .5}

                    font_style: "H6"
                    text:'Question for the Day:'
            AnswerWidget:
                id : AnswerSection
                orientation:'vertical'
                size:  0.9, 0.46
                pos_hint: {'center_x':.5, 'center_y': .47}
                #spacing: "5dp"
                MDLabel:
                    id: JustforQuckPadding
                    size_hint: 1,.4

                MDBoxLayout:
                    orientation:'horizontal'
                    spacing: "20dp"
                    size: .9,.28
                    pos_hint_y: {'center_y':.65}
                    MDCard:
                        id : AnsMDCard1
                        size_hint: .95, .4
                        #pos_hint: {"center_x": 0.5, "center_y": 0.8}
                        elevation: 0
                        shadow_softness: 8
                        shadow_offset: (-2, 2)
                        radius: [5,]
                        padding: "20dp"
                        MDFlatButton:
                            size_hint: 2,1.7
                            pos_hint: {'center_x':.5, 'center_y':.5}
                            on_release:
                                root.Ans1()
                                root.show_confirmation_dialog1()


                            MDLabel:
                                id: Answerfield1
                                size_hint: .8,.5
                                halign: "center"
                                pos_hint:{'center_x':.5,'center_y': .5}

                                font_style: "H6"
                                text:AnswerSection.Answer1

                    MDCard:
                        id : AnsMDCar2
                        size_hint: .95, .4
                        #pos_hint: {"center_x": 0.5, "center_y": 0.8}
                        elevation: 0
                        shadow_softness: 8
                        shadow_offset: (-2, 2)
                        radius: [5,]
                        padding: "20dp"
                        MDFlatButton:
                            size_hint: 2,1.7
                            pos_hint: {'center_x':.5, 'center_y':.5}
                            on_release:
                                root.Ans2()
                                root.show_confirmation_dialog1()


                            MDLabel:
                                id: Answerfield2
                                size_hint: .8,.5
                                halign: "center"
                                pos_hint:{'center_x':.5,'center_y': .5}
                                font_style: "H6"
                                text:AnswerSection.Answer2


                MDBoxLayout:
                    orientation:'horizontal'
                    spacing: "20dp"
                    pos_hint_y: {'center_y':.5}
                    size:.9,.28

                    MDCard:
                        id : AnsMDCard3
                        size_hint: .95, .4
                        #pos_hint: {"center_x": 0.5, "center_y": 0.8}
                        elevation: 0
                        shadow_softness: 8
                        shadow_offset: (-2, 2)
                        radius: [5,]
                        padding: "20dp"
                        MDFlatButton:
                            size_hint: 2,1.7
                            pos_hint: {'center_x':.5, 'center_y':.5}
                            on_release:
                                root.Ans3()
                                root.show_confirmation_dialog1()


                            MDLabel:
                                id: Answerfield3
                                size_hint: .8,1
                                halign: "center"
                                pos_hint:{'center_x':.5,'center_y': .5}
                                font_style: "H6"
                                text:AnswerSection.Answer3



                    MDCard:
                        id : AnsMDCard4
                        size_hint: .95, .4
                        #pos_hint: {"center_x": 0.5, "center_y": 0.8}
                        elevation: 0
                        shadow_softness: 8
                        shadow_offset: (-2, 2)
                        radius: [5,]
                        padding: "20dp"
                        MDFlatButton:
                            size_hint: 2,1.7
                            pos_hint: {'center_x':.5, 'center_y':.7}
                            on_release:
                                root.Ans4()
                                root.show_confirmation_dialog1()


                            MDLabel:
                                id: Answerfield4
                                size_hint: .8,1
                                halign: "center"
                                pos_hint:{'center_x':.5,'center_y': .7}
                                font_style: "H6"
                                text:AnswerSection.Answer4

                MDLabel:
                    id: Empty
                    size_hint: 1,.9
                    halign: "center"
                    #pos_hint:{'center_x':.5,'center_y': .5}
                    font_style: "H6"


<ItemConfirm>:
    on_release:
        self.set_icon(check)
        root.CheckBoxClick()

    CheckboxLeftWidget:
        id: check
        group: "check"

<MenuHeader>:
    id : menuheader
    orientation: "vertical"
    adaptive_size: True
    padding: "10dp"
    
    MDLabel:
        text: "  CHOOSE LANGUAGE:"
        adaptive_size: True
        pos_hint: {"center_y": .5}
        font_style: "Subtitle2"
<MenuHeader1>:
    id : menuheader1
    orientation: "vertical"
    adaptive_size: True
    padding: "10dp"

    MDLabel:
        text: "  SETTINGS:"
        adaptive_size: True
        pos_hint: {"center_y": .5}
        font_style: "Subtitle2"
    